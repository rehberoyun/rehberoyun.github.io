<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rehber Oyun - Bir Adım Önde Ol!</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
  <!-- Header -->
  <div id="header"></div>

  <!-- Ana içerik -->
  <main class="container layout">
    <!-- Sol taraf: Oyun listesi -->
    <div class="content">
      <section class="game-list" id="game-list">
        <!-- posts.json içeriği buraya gelecek -->
      </section>
    </div>

    <!-- Sağ taraf: Son Yazılar -->
    <aside class="sidebar">
      <h2>Son Yazılar</h2>
      <ul id="recent-posts"></ul>
    </aside>
  </main>

  <!-- Footer -->
  <div id="footer"></div>

  <!-- JavaScript -->
  <script>
    // Header ve Footer yükle
    async function loadHTML(id, file) {
      const res = await fetch(file);
      document.getElementById(id).innerHTML = await res.text();
    }
    loadHTML("header", "header.html");
    loadHTML("footer", "footer.html");

    // Oyun Listesi doldur
    fetch('posts.json')
      .then(res => res.json())
      .then(posts => {
        const gameList = document.getElementById("game-list");
        posts.forEach(post => {
          const div = document.createElement("div");
          div.className = "game-card";
          div.innerHTML = `
            <img src="images/${post.letter}.jpg" alt="${post.title}">
            <h3>${post.title}</h3>
            <p>Kısa açıklama buraya gelecek...</p>
            <a href="${post.url}" class="read-more">Devamını Oku</a>
          `;
          gameList.appendChild(div);
        });

        // Sidebar → Son Yazılar (en son 5 yazı)
        const recentList = document.getElementById("recent-posts");
        posts.slice(-5).reverse().forEach(post => {
          const li = document.createElement("li");
          li.innerHTML = `<a href="${post.url}">${post.title}</a>`;
          recentList.appendChild(li);
        });
      });
  </script>
</body>
</html>
